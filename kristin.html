<!DOCTYPE html>
	<head>
		<title>kristin.html</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
		
	</head>
	<body> 
		<div id="container"></div>
		<div id = "info">
			 Trackball Controls</div>
		
		<script src="three.min.js"></script>
		<script src="js/TrackballControls.js"></script>
		<script src="js/Detector.js"></script>
		<script src="js/stats.min.js"></script>
		<script src="js/FlyControls.js"></script>
		
		<script>
			
			//test if webGL is supported
			if ( ! Detector.webgl ) Detector.addGetWebGLMessage();
			
			var stats, camera, controls, scene, renderer;
			var container;
			//var startTime	= Date.now();
			
			init();
			animate();
		
		function init(){
			
			
			//create camera
			camera = new THREE.PerspectiveCamera( 60, window.innerWidth/window.innerHeight, 0.1, 1000 );
			
			camera.position.set(0,0,100);
			
			//contructs an empty object and sets controls to it
			//var dummy = new THREE.Object3D();
		    //var controls = new THREE.FlyControls( dummy );
			
			//create controls
			controls = new THREE.TrackballControls( camera );
			//controls.target.se(0,0,0);
			
			controls.rotateSpeed = 1.0;
			controls.zoomSpeed = 1.2;
			controls.panSpeed = 0.8;

			controls.noZoom = false;
			controls.noPan = false;

			controls.staticMoving = true;
			controls.dynamicDampingFactor = 0.3;
			
			
			/*
			//camera control properties
	     	controls.movementSpeed = 100;
            //controls.domElement = viewport;
            controls.rollSpeed = 0.5;
            controls.autoForward = false;
            controls.dragToLook = true;
			*/

			controls.keys = [ 65, 83, 68 ];

			controls.addEventListener( 'change', render );
			
			
			
			//world
			
			//create scene
			scene = new THREE.Scene();
			scene.fog = new THREE.FogExp2( 0x000000, 0.002 ); //sets start position in scene, defines exponential fog, ie. grows exponentially denser with the distance
			
			var geometry = new THREE.BoxGeometry( 10, 10, 10 );
			var material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );
			
			
			//var cube = new THREE.Mesh( geometry, material );
			
			for ( var i = 0; i < 500; i ++ ) {

				var mesh = new THREE.Mesh( geometry, material );
				mesh.position.x = ( Math.random() - 0.5 ) * 1000;
				mesh.position.y = ( Math.random() - 0.5 ) * 1000;
				mesh.position.z = ( Math.random() - 0.5 ) * 1000;
				mesh.updateMatrix();
				mesh.matrixAutoUpdate = false;
				scene.add( mesh );
				

			}
			
			//add the objects to the scene
			                //scene.add(camera);
			//scene.add(dummy);
			//dummy.add(camera);
			//scene.add(cube);
			
			
			
			
			//lights
			light = new THREE.DirectionalLight( 0xffffff );
			light.position.set( 1, 1, 1 );
			scene.add( light );

			light = new THREE.DirectionalLight( 0x002288 );
			light.position.set( -1, -1, -1 );
			scene.add( light );
			
			light = new THREE.AmbientLight( 0x222222 );
			scene.add( light );
			

			
			//renderer
			renderer = new THREE.WebGLRenderer( { antialias: false } ); // antialias default is true so could skip the code
			renderer.setClearColor( scene.fog.color ); //scene.fog.color sets far away objects to black, can also be a color
			renderer.setPixelRatio( window.devicePixelRatio );
			renderer.setSize( window.innerWidth, window.innerHeight );
			//document.body.appendChild( renderer.domElement );
			
			//create the conatiner element
			container = document.getElementById('container');
			container.appendChild( renderer.domElement );
			
			
			//init the stats
			stats = new Stats();
			stats.domElement.style.position = 'absolute';
			stats.domElement.style.top = '0px';
			stats.domElement.style.zIndex = 100;
			container.appendChild( stats.domElement );
			
			window.addEventListener( 'resize', onWindowResize, false );
		
			render();
			
		}
		
		function onWindowResize() {
			
			camera.aspect = window.innerWidth / window.innerHeight;
			camera.updateProjectionMatrix();

			renderer.setSize( window.innerWidth, window.innerHeight );

			controls.handleResize();

			render();
		}
		
		function animate() {
			requestAnimationFrame( animate );
			controls.update();
		}
		
		function render() {
				renderer.render(scene, camera);
				stats.update();
		}
		


		</script>
	</body>
</html>

